<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:ecos="http://www.citeck.ru/ecos/bpmn/1.0" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" id="Definitions_33GPiXF" name="Процесс активности" targetNamespace="http://bpmn.io/schema/bpmn" exporter="bpmn-js (https://demo.bpmn.io)" exporterVersion="8.2.0" ecos:workingCopySourceRef="" ecos:name_ml="{&quot;ru&quot;:&quot;Процесс активности&quot;,&quot;en&quot;:&quot;Activity process&quot;}" ecos:formRef="" ecos:autoDeleteEnabled="true" ecos:sectionRef="eproc/bpmn-section@DEFAULT" ecos:enabled="true" ecos:autoStartEnabled="true" ecos:defState="CONVERTED" ecos:processDefId="ecos-activity-process" ecos:ecosType="emodel/type@ecos-activity">
    <bpmn:process isExecutable="true" id="ecos-activity-process">
        <bpmn:startEvent isInterrupting="true" name="" id="StartEvent_1ew9rff" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:outgoing >Flow_0u7koyn</bpmn:outgoing>
        </bpmn:startEvent>
        <bpmn:userTask name="Задача ответственному" id="Activity_1qkhamb" ecos:manualRecipients="[&quot;${responsible}&quot;]" ecos:outcomes="[{&quot;id&quot;:&quot;done&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;Выполнено&quot;,&quot;en&quot;:&quot;Done&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}},{&quot;id&quot;:&quot;reschedule&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;Активность перенесена&quot;,&quot;en&quot;:&quot;Reschedule activity&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}}]" ecos:laEnabled="false" ecos:name_ml="{&quot;ru&quot;:&quot;Задача ответственному&quot;}" ecos:formRef="uiserv/form@activity-user-task-form" ecos:manualRecipientsMode="true" ecos:documentation="{}" ecos:laManualNotificationTemplateEnabled="false" ecos:laNotificationAdditionalMeta="{}" ecos:laNotificationType="EMAIL_NOTIFICATION" ecos:laReportEnabled="false" ecos:priority="MEDIUM" ecos:assignees="[]">
            <bpmn:incoming >Flow_0s7qj7q</bpmn:incoming>
            <bpmn:outgoing >Flow_1uxedrg</bpmn:outgoing>
        </bpmn:userTask>
        <bpmn:task name="" id="Activity_04a2cr8" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="completed">
            <bpmn:incoming >Flow_02cxmjb</bpmn:incoming>
            <bpmn:outgoing >Flow_1pe3me5</bpmn:outgoing>
        </bpmn:task>
        <bpmn:exclusiveGateway default="Flow_0war1ez" name="" id="Gateway_02ala0u" ecos:documentation="{}" ecos:name_ml="{}">
            <bpmn:incoming >Flow_15hvzhs</bpmn:incoming>
            <bpmn:outgoing >Flow_0yzsred</bpmn:outgoing>
            <bpmn:outgoing >Flow_0war1ez</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:scriptTask scriptFormat="javascript" name="Вычисление переменных события календаря" id="Activity_0iaxfer" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:false}" ecos:name_ml="{&quot;ru&quot;:&quot;Вычисление переменных события календаря&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="const eventAtts = document.load({&#10;    &quot;eventOrganizer&quot;: &quot;_creator?id&quot;,&#10;    &quot;eventDate&quot;: &quot;activityDate&quot;,&#10;    &quot;eventDuration&quot;: &quot;activityDuration&quot;,&#10;    &quot;eventSummary&quot;: &quot;calendarEventSummary&quot;&#10;});&#10;for (const key in eventAtts) {&#10;    execution.setVariable(key, eventAtts[key]);&#10;}&#10;&#10;const atts = document.load({&#10;    &quot;text&quot;: &quot;text&quot;,&#10;    &quot;parentRef&quot;: &quot;_parent?str&quot;,&#10;    &quot;responsible&quot;: &quot;responsible?str&quot;,&#10;    &quot;participants&quot;: &quot;participants[]?str|join()&quot;,&#10;    &quot;_workspace&quot;: &quot;_workspace.id&quot;&#10;});&#10;const plainText = atts.text.replace(/&lt;\/[^&gt;]+&gt;/g, '\n')&#10;    .replace(/&lt;[^&gt;]+&gt;/g, '')&#10;    .trim();&#10;&#10;let eventDescription = plainText;&#10;const parentRef = atts.parentRef.toString();&#10;if (!parentRef.includes(&quot;emodel/workspace&quot;)) {&#10;    const workspaceId = atts._workspace;&#10;    let documentUrl = webUrl + &quot;/v2/dashboard?recordRef=&quot; + parentRef;&#10;&#10;    if (workspaceId) {&#10;        documentUrl = documentUrl + &quot;&amp;ws=&quot; + workspaceId;&#10;    }&#10;&#10;    eventDescription += &quot;\n\n&quot; + documentUrl&#10;}&#10;&#10;execution.setVariable(&quot;eventDescription&quot;, eventDescription);&#10;&#10;let recipients = atts.responsible;&#10;const participants = atts.participants;&#10;if (participants !== &quot;&quot;) {&#10;    recipients += ',' + participants;&#10;}&#10;execution.setVariable(&quot;notificationTo&quot;, recipients);&#10;execution.setVariable(&quot;responsible&quot;, atts.responsible);&#10;&#10;let eventAction = &quot;Приглашение&quot;;&#10;if (execution.getVariable(&quot;eventSequence&quot;) !== null) {&#10;    eventAction = &quot;Обновленное приглашение&quot;;&#10;}&#10;execution.setVariable(&quot;eventAction&quot;, eventAction);">
            <bpmn:incoming >Flow_0me7ckl</bpmn:incoming>
            <bpmn:outgoing >Flow_11ooquc</bpmn:outgoing>
            <bpmn:script>const eventAtts = document.load({
    "eventOrganizer": "_creator?id",
    "eventDate": "activityDate",
    "eventDuration": "activityDuration",
    "eventSummary": "calendarEventSummary"
});
for (const key in eventAtts) {
    execution.setVariable(key, eventAtts[key]);
}

const atts = document.load({
    "text": "text",
    "parentRef": "_parent?str",
    "responsible": "responsible?str",
    "participants": "participants[]?str|join()",
    "_workspace": "_workspace.id"
});
const plainText = atts.text.replace(/&lt;\/[^&gt;]+&gt;/g, '\n')
    .replace(/&lt;[^&gt;]+&gt;/g, '')
    .trim();

let eventDescription = plainText;
const parentRef = atts.parentRef.toString();
if (!parentRef.includes("emodel/workspace")) {
    const workspaceId = atts._workspace;
    let documentUrl = webUrl + "/v2/dashboard?recordRef=" + parentRef;

    if (workspaceId) {
        documentUrl = documentUrl + "&amp;ws=" + workspaceId;
    }

    eventDescription += "\n\n" + documentUrl
}

execution.setVariable("eventDescription", eventDescription);

let recipients = atts.responsible;
const participants = atts.participants;
if (participants !== "") {
    recipients += ',' + participants;
}
execution.setVariable("notificationTo", recipients);
execution.setVariable("responsible", atts.responsible);

let eventAction = "Приглашение";
if (execution.getVariable("eventSequence") !== null) {
    eventAction = "Обновленное приглашение";
}
execution.setVariable("eventAction", eventAction);</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:sequenceFlow sourceRef="Activity_0iaxfer" targetRef="Activity_1l62402" name="" id="Flow_11ooquc" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sendTask name="Отправка события в календарь ответственного" id="Activity_1l62402" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:false}" ecos:name_ml="{&quot;ru&quot;:&quot;Отправка события в календарь ответственного&quot;}" ecos:notificationCcExpression="[]" ecos:notificationCalendarEventSummary="${eventSummary}" ecos:notificationTemplate="notifications/template@activity-calendar-event-notification" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;responsible&quot;]" ecos:notificationCalendarEventDurationExpression="${eventDuration}" ecos:notificationSendCalendarEvent="true" ecos:notificationCalendarEventDescription="${eventDescription}" ecos:documentation="{}" ecos:notificationCalendarEventDateExpression="${eventDate}" ecos:notificationTitle="Заголовок v2.0" ecos:notificationCalendarEventOrganizer="${eventOrganizer}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationCalendarEventOrganizerExpression="${eventOrganizer}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationBody="&lt;p&gt;Тело сообщения&lt;/p&gt;" ecos:notificationToExpression="[&quot;${notificationTo}&quot;]">
            <bpmn:incoming >Flow_11ooquc</bpmn:incoming>
            <bpmn:outgoing >Flow_0434oyf</bpmn:outgoing>
        </bpmn:sendTask>
        <bpmn:intermediateCatchEvent name="Ожидание сигнала запуска задачи ответственного" id="Event_1j5xv36" ecos:documentation="{}" ecos:manualSignalName="activity-start-user-task" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ожидание сигнала запуска задачи ответственного&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="true" ecos:eventFilterByPredicate="{}">
            <bpmn:incoming >Flow_1fwj6yn</bpmn:incoming>
            <bpmn:outgoing >Flow_0badu6r</bpmn:outgoing>
            <bpmn:signalEventDefinition  signalRef="Signal_hkmEBrb" id="SignalEventDefinition_0vgom56"/>
        </bpmn:intermediateCatchEvent>
        <bpmn:eventBasedGateway name="" id="Gateway_0q09ibx" ecos:documentation="{}" ecos:name_ml="{}">
            <bpmn:incoming >Flow_0zw96dl</bpmn:incoming>
            <bpmn:outgoing >Flow_1l421qx</bpmn:outgoing>
            <bpmn:outgoing >Flow_1fwj6yn</bpmn:outgoing>
        </bpmn:eventBasedGateway>
        <bpmn:sequenceFlow sourceRef="Gateway_0q09ibx" targetRef="Event_10mldsw" name="" id="Flow_1l421qx" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Gateway_0q09ibx" targetRef="Event_1j5xv36" name="" id="Flow_1fwj6yn" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Gateway_1jgphp7" targetRef="Gateway_02ala0u" name="" id="Flow_15hvzhs" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:exclusiveGateway name="" id="Gateway_1jgphp7" ecos:documentation="{}" ecos:name_ml="{}">
            <bpmn:incoming >Flow_051yjyx</bpmn:incoming>
            <bpmn:incoming >Flow_0ebxxlh</bpmn:incoming>
            <bpmn:outgoing >Flow_15hvzhs</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:intermediateCatchEvent name="Ожидание изменения активности" id="Event_10mldsw" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ожидание изменения активности&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="RECORD_CHANGED" ecos:eventFilterByPredicate="{}">
            <bpmn:incoming >Flow_1l421qx</bpmn:incoming>
            <bpmn:outgoing >Flow_0p8al3v</bpmn:outgoing>
            <bpmn:signalEventDefinition  signalRef="Signal_TGTTBXG" id="SignalEventDefinition_1vi1y1a"/>
        </bpmn:intermediateCatchEvent>
        <bpmn:sequenceFlow sourceRef="Activity_04a2cr8" targetRef="Event_1kttqby" name="" id="Flow_1pe3me5" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:endEvent name="" id="Event_1kttqby" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:incoming >Flow_1pe3me5</bpmn:incoming>
        </bpmn:endEvent>
        <bpmn:sequenceFlow sourceRef="Gateway_02ala0u" targetRef="Gateway_1rsprej" name="Дата активности меньше текущей" id="Flow_0yzsred" ecos:name_ml="{&quot;ru&quot;:&quot;Дата активности меньше текущей&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;var currentDate = new Date();\nvar activityDate = Date.parse(document.load(\&quot;activityDate\&quot;));\nactivityDate &lt; currentDate;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="SCRIPT"/>
        <bpmn:sequenceFlow sourceRef="Activity_1qkhamb" targetRef="Gateway_12387fg" name="" id="Flow_1uxedrg" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:exclusiveGateway name="" id="Gateway_12387fg" ecos:documentation="{}" ecos:name_ml="{}">
            <bpmn:incoming >Flow_1uxedrg</bpmn:incoming>
            <bpmn:outgoing >Flow_1g8o17i</bpmn:outgoing>
            <bpmn:outgoing >Flow_03mgrab</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:sequenceFlow sourceRef="Gateway_12387fg" targetRef="Activity_1e83gaw" name="Выполнено" id="Flow_1g8o17i" ecos:name_ml="{&quot;ru&quot;:&quot;Выполнено&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1qkhamb:done&quot;}" ecos:conditionType="OUTCOME"/>
        <bpmn:scriptTask scriptFormat="javascript" name="Записываем результат активности" id="Activity_1e83gaw" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Записываем результат активности&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="if (result === &quot;&quot;) {&#10;  throw new Error('Необходимо указать результат активности');&#10;}&#10;document.att(&quot;result&quot;, result);&#10;document.save();">
            <bpmn:incoming >Flow_1g8o17i</bpmn:incoming>
            <bpmn:outgoing >Flow_0n3f4um</bpmn:outgoing>
            <bpmn:script>if (result === "") {
  throw new Error('Необходимо указать результат активности');
}
document.att("result", result);
document.save();</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:sequenceFlow sourceRef="Gateway_12387fg" targetRef="Activity_0djp7g0" name="Активность перенесена" id="Flow_03mgrab" ecos:name_ml="{&quot;ru&quot;:&quot;Активность перенесена&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1qkhamb:reschedule&quot;}" ecos:conditionType="OUTCOME"/>
        <bpmn:exclusiveGateway name="" id="Gateway_1rsprej" ecos:documentation="{}" ecos:name_ml="{}">
            <bpmn:incoming >Flow_0n3f4um</bpmn:incoming>
            <bpmn:incoming >Flow_0yzsred</bpmn:incoming>
            <bpmn:outgoing >Flow_02cxmjb</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:sequenceFlow sourceRef="Activity_1e83gaw" targetRef="Gateway_1rsprej" name="" id="Flow_0n3f4um" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Gateway_1rsprej" targetRef="Activity_04a2cr8" name="" id="Flow_02cxmjb" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot; &quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:task name="" id="Activity_0djp7g0" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="planned">
            <bpmn:incoming >Flow_03mgrab</bpmn:incoming>
            <bpmn:outgoing >Flow_0td221k</bpmn:outgoing>
        </bpmn:task>
        <bpmn:exclusiveGateway name="" id="Gateway_11znm66" ecos:documentation="{}" ecos:name_ml="{}">
            <bpmn:incoming >Flow_0td221k</bpmn:incoming>
            <bpmn:incoming >Flow_0p8al3v</bpmn:incoming>
            <bpmn:outgoing >Flow_051yjyx</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:sequenceFlow sourceRef="Activity_0djp7g0" targetRef="Gateway_11znm66" name="" id="Flow_0td221k" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Event_10mldsw" targetRef="Gateway_11znm66" name="" id="Flow_0p8al3v" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Gateway_11znm66" targetRef="Gateway_1jgphp7" name="" id="Flow_051yjyx" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot; &quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Activity_1l62402" targetRef="Activity_0isnudw" name="" id="Flow_0434oyf" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:scriptTask scriptFormat="javascript" name="Сохранение данных события календаря" id="Activity_0isnudw" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Сохранение данных события календаря&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var calendarEventUid = document.load(&quot;calendarEventUid&quot;);&#10;if (calendarEventUid === null || calendarEventUid === &quot;&quot;) {&#10;  calendarEventUid = execution.getVariable(&quot;eventUid&quot;);&#10;  document.att(&quot;calendarEventUid&quot;, calendarEventUid);&#10;}&#10;&#10;var calendarEventSequence = execution.getVariable(&quot;eventSequence&quot;);&#10;document.att(&quot;calendarEventSequence&quot;, calendarEventSequence);&#10;document.save();">
            <bpmn:incoming >Flow_0434oyf</bpmn:incoming>
            <bpmn:outgoing >Flow_145r6y4</bpmn:outgoing>
            <bpmn:script>var calendarEventUid = document.load("calendarEventUid");
if (calendarEventUid === null || calendarEventUid === "") {
  calendarEventUid = execution.getVariable("eventUid");
  document.att("calendarEventUid", calendarEventUid);
}

var calendarEventSequence = execution.getVariable("eventSequence");
document.att("calendarEventSequence", calendarEventSequence);
document.save();</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:exclusiveGateway default="Flow_0riouzm" name="" id="Gateway_19laj60" ecos:documentation="{}" ecos:name_ml="{}">
            <bpmn:incoming >Flow_0u7koyn</bpmn:incoming>
            <bpmn:outgoing >Flow_0hnueqa</bpmn:outgoing>
            <bpmn:outgoing >Flow_0riouzm</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:sequenceFlow sourceRef="StartEvent_1ew9rff" targetRef="Gateway_19laj60" name="" id="Flow_0u7koyn" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Gateway_19laj60" targetRef="Gateway_0yi4vh3" name="Не планируемая активность" id="Flow_0hnueqa" ecos:name_ml="{&quot;ru&quot;:&quot;Не планируемая активность&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;document.load(\&quot;_type.isSubTypeOf.planned-activity?bool!\&quot;) === false;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="SCRIPT"/>
        <bpmn:exclusiveGateway default="Flow_19i5n8v" name="" id="Gateway_0yi4vh3" ecos:documentation="{}" ecos:name_ml="{}">
            <bpmn:incoming >Flow_0hnueqa</bpmn:incoming>
            <bpmn:outgoing >Flow_13809pp</bpmn:outgoing>
            <bpmn:outgoing >Flow_19i5n8v</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:sequenceFlow sourceRef="Gateway_0yi4vh3" targetRef="Activity_1ytywvd" name="Комментарий" id="Flow_13809pp" ecos:name_ml="{&quot;ru&quot;:&quot;Комментарий&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;document.load(\&quot;_type.isSubTypeOf.comment-activity?bool!\&quot;) === true;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="SCRIPT"/>
        <bpmn:scriptTask scriptFormat="javascript" name="Создание комментария" id="Activity_1ytywvd" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:false}" ecos:name_ml="{&quot;ru&quot;:&quot;Создание комментария&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var atts = document.load({ &#10;  &quot;record&quot;: &quot;_parent?id&quot;, &#10;  &quot;text&quot;: &quot;text&quot; &#10;}); &#10;&#10;var comment = Records.get('emodel/comment@'); &#10;for (var key in atts) { &#10;  comment.att(key, atts[key]); &#10;} &#10;var newComment = comment.save();&#10;&#10;document.att('comment', newComment.getId());&#10;document.save();">
            <bpmn:incoming >Flow_13809pp</bpmn:incoming>
            <bpmn:outgoing >Flow_0zegp6n</bpmn:outgoing>
            <bpmn:script>var atts = document.load({
  "record": "_parent?id",
  "text": "text"
});

var comment = Records.get('emodel/comment@');
for (var key in atts) {
  comment.att(key, atts[key]);
}
var newComment = comment.save();

document.att('comment', newComment.getId());
document.save();</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:exclusiveGateway name="" id="Gateway_1s8ek22" ecos:documentation="{}" ecos:name_ml="{}">
            <bpmn:incoming >Flow_0zegp6n</bpmn:incoming>
            <bpmn:incoming >Flow_1ijuo62</bpmn:incoming>
            <bpmn:incoming >Flow_1s5u6lu</bpmn:incoming>
            <bpmn:outgoing >Flow_1evhti1</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:sequenceFlow sourceRef="Activity_1ytywvd" targetRef="Gateway_1s8ek22" name="" id="Flow_0zegp6n" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:endEvent name="" id="Event_0c0qud3" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:incoming >Flow_15weqli</bpmn:incoming>
        </bpmn:endEvent>
        <bpmn:exclusiveGateway default="Flow_1s5u6lu" name="" id="Gateway_06knvn0" ecos:documentation="{}" ecos:name_ml="{}">
            <bpmn:incoming >Flow_19i5n8v</bpmn:incoming>
            <bpmn:outgoing >Flow_1t68h30</bpmn:outgoing>
            <bpmn:outgoing >Flow_1s5u6lu</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:sequenceFlow sourceRef="Gateway_0yi4vh3" targetRef="Gateway_06knvn0" name="" id="Flow_19i5n8v" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot; &quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Gateway_06knvn0" targetRef="Activity_0n72bya" name="Поручение" id="Flow_1t68h30" ecos:name_ml="{&quot;ru&quot;:&quot;Поручение&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;document.load(\&quot;_type.isSubTypeOf.assignment-activity?bool!\&quot;) === true;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="SCRIPT"/>
        <bpmn:scriptTask scriptFormat="javascript" name="Создание поручения" id="Activity_0n72bya" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:false}" ecos:name_ml="{&quot;ru&quot;:&quot;Создание поручения&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="let atts = document.load({&#10;    &quot;title&quot;: &quot;title&quot;,&#10;    &quot;description&quot;: &quot;text&quot; ,&#10;    &quot;dueDate&quot;: &quot;dueDate&quot;,&#10;    &quot;priority&quot;: &quot;priority&quot;,&#10;    &quot;initiator&quot;: &quot;initiator?str&quot;,&#10;    &quot;performer&quot;: &quot;performer?str&quot;,&#10;    &quot;assoc:associatedWith&quot;: &quot;_parent?id&quot;,&#10;    &quot;_workspace&quot;: &quot;_workspace.id&quot;&#10;});&#10;&#10;var assignment = Records.get('emodel/assignment-type@');&#10;for (var key in atts) {&#10;    assignment.att(key, atts[key]);&#10;}&#10;assignment.att(&quot;verify&quot;, false);&#10;var newAssignment = assignment.save();&#10;&#10;document.att('assignment', newAssignment.getId());&#10;document.save();">
            <bpmn:incoming >Flow_1t68h30</bpmn:incoming>
            <bpmn:outgoing >Flow_1ijuo62</bpmn:outgoing>
            <bpmn:script>let atts = document.load({
    "title": "title",
    "description": "text" ,
    "dueDate": "dueDate",
    "priority": "priority",
    "initiator": "initiator?str",
    "performer": "performer?str",
    "assoc:associatedWith": "_parent?id",
    "_workspace": "_workspace.id"
});

var assignment = Records.get('emodel/assignment-type@');
for (var key in atts) {
    assignment.att(key, atts[key]);
}
assignment.att("verify", false);
var newAssignment = assignment.save();

document.att('assignment', newAssignment.getId());
document.save();</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:sequenceFlow sourceRef="Activity_0n72bya" targetRef="Gateway_1s8ek22" name="" id="Flow_1ijuo62" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot; &quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Gateway_06knvn0" targetRef="Gateway_1s8ek22" name="Неопределенный тип" id="Flow_1s5u6lu" ecos:name_ml="{&quot;ru&quot;:&quot;Неопределенный тип&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Gateway_1s8ek22" targetRef="Activity_06guyot" name="" id="Flow_1evhti1" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:scriptTask scriptFormat="javascript" name="Статус &quot;Создано&quot;" id="Activity_06guyot" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Статус \&quot;Создано\&quot;&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="document.att('_status', 'created');&#10;document.save();">
            <bpmn:incoming >Flow_1evhti1</bpmn:incoming>
            <bpmn:outgoing >Flow_15weqli</bpmn:outgoing>
            <bpmn:script>document.att('_status', 'created');
document.save();</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:sequenceFlow sourceRef="Activity_06guyot" targetRef="Event_0c0qud3" name="" id="Flow_15weqli" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot; &quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Gateway_19laj60" targetRef="Activity_039oxsm" name="" id="Flow_0riouzm" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot; &quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:scriptTask scriptFormat="javascript" name="Установка переменных процесса" id="Activity_039oxsm" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Установка переменных процесса&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="execution.setVariable('mainDocumentRef', document.load('_parent?id'));">
            <bpmn:incoming >Flow_0riouzm</bpmn:incoming>
            <bpmn:outgoing >Flow_0ebxxlh</bpmn:outgoing>
            <bpmn:script>execution.setVariable('mainDocumentRef', document.load('_parent?id'));</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:sequenceFlow sourceRef="Activity_039oxsm" targetRef="Gateway_1jgphp7" name="" id="Flow_0ebxxlh" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot; &quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:boundaryEvent  cancelActivity="true" attachedToRef="Activity_1qkhamb" name="" id="Event_0duj755" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="RECORD_CHANGED" ecos:eventFilterByPredicate="{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;diff._has.activityDate?bool&quot;,&quot;val&quot;:false}">
            <bpmn:outgoing>Flow_1yrmmd7</bpmn:outgoing>
            <bpmn:signalEventDefinition signalRef="Signal_QC0Ufed" id="SignalEventDefinition_0bgpzz6"/>
        </bpmn:boundaryEvent>
        <bpmn:sequenceFlow sourceRef="Event_0duj755" targetRef="Activity_0t9z362" name="Изменен документ активности" id="Flow_1yrmmd7" ecos:name_ml="{&quot;ru&quot;:&quot;Изменен документ активности&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:scriptTask scriptFormat="javascript" name="Отключение ожидания запуска задачи" id="Activity_0t9z362" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Отключение ожидания запуска задачи&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="execution.setVariable(&quot;waitStartTask&quot;, false);">
            <bpmn:incoming >Flow_1yrmmd7</bpmn:incoming>
            <bpmn:outgoing >Flow_1z0d2o2</bpmn:outgoing>
            <bpmn:script>execution.setVariable("waitStartTask", false);</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:sequenceFlow sourceRef="Gateway_02ala0u" targetRef="Activity_0cmd5aw" name="" id="Flow_0war1ez" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot; &quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:scriptTask scriptFormat="javascript" name="Включение ожидания запуска задачи" id="Activity_0cmd5aw" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:false}" ecos:name_ml="{&quot;ru&quot;:&quot;Включение ожидания запуска задачи&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="execution.setVariable(&quot;waitStartTask&quot;, true);">
            <bpmn:incoming >Flow_0war1ez</bpmn:incoming>
            <bpmn:outgoing >Flow_0an9q1j</bpmn:outgoing>
            <bpmn:script>execution.setVariable("waitStartTask", true);</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:exclusiveGateway name="" id="Gateway_1mzi1bg" ecos:documentation="{}" ecos:name_ml="{}">
            <bpmn:incoming >Flow_0an9q1j</bpmn:incoming>
            <bpmn:incoming >Flow_1z0d2o2</bpmn:incoming>
            <bpmn:outgoing >Flow_0me7ckl</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:sequenceFlow sourceRef="Activity_0cmd5aw" targetRef="Gateway_1mzi1bg" name="" id="Flow_0an9q1j" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot; &quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Gateway_1mzi1bg" targetRef="Activity_0iaxfer" name="" id="Flow_0me7ckl" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot; &quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Activity_0t9z362" targetRef="Gateway_1mzi1bg" name="" id="Flow_1z0d2o2" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:exclusiveGateway name="" id="Gateway_1kjkd6k" ecos:documentation="{}" ecos:name_ml="{}">
            <bpmn:incoming >Flow_0badu6r</bpmn:incoming>
            <bpmn:incoming >Flow_1rmxqzn</bpmn:incoming>
            <bpmn:outgoing >Flow_0s7qj7q</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:sequenceFlow sourceRef="Event_1j5xv36" targetRef="Gateway_1kjkd6k" name="" id="Flow_0badu6r" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Gateway_1kjkd6k" targetRef="Activity_1qkhamb" name="" id="Flow_0s7qj7q" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot; &quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:exclusiveGateway default="Flow_0zw96dl" name="" id="Gateway_1xh8gxe" ecos:documentation="{}" ecos:name_ml="{}">
            <bpmn:incoming >Flow_145r6y4</bpmn:incoming>
            <bpmn:outgoing >Flow_0zw96dl</bpmn:outgoing>
            <bpmn:outgoing >Flow_1rmxqzn</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:sequenceFlow sourceRef="Activity_0isnudw" targetRef="Gateway_1xh8gxe" name="" id="Flow_145r6y4" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Gateway_1xh8gxe" targetRef="Gateway_0q09ibx" name="" id="Flow_0zw96dl" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Gateway_1xh8gxe" targetRef="Gateway_1kjkd6k" name="Немедленный запуск задачи" id="Flow_1rmxqzn" ecos:name_ml="{&quot;ru&quot;:&quot;Немедленный запуск задачи&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;execution.getVariable(\&quot;waitStartTask\&quot;) === false;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="SCRIPT"/>
    </bpmn:process>
    <bpmn:signal name="activity-start-user-task;${execution.businessKey};ANY;pr_99914b932bd37a50b983c5e7c90ae93b" id="Signal_hkmEBrb"/>
    <bpmn:signal name="RECORD_CHANGED;${execution.businessKey};ANY;pr_99914b932bd37a50b983c5e7c90ae93b" id="Signal_TGTTBXG"/>
    <bpmn:signal name="RECORD_CHANGED;${execution.businessKey};ANY;pr_47572a7790fd7cbeb6633790b7569ae0" id="Signal_QC0Ufed"/>
    <bpmndi:BPMNDiagram id="BPMNDiagram_1">
        <bpmndi:BPMNPlane  bpmnElement="ecos-activity-process" id="BPMNPlane_1">
            <bpmndi:BPMNShape bpmnElement="StartEvent_1ew9rff" isExpanded="false" id="_BPMNShape_StartEvent_2">
                <dc:Bounds x="-1168.0" y="52.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1qkhamb" isExpanded="false" id="Activity_0lznbk2_di">
                <dc:Bounds x="560.0" y="30.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_04a2cr8" isExpanded="false" id="Activity_04a2cr8_di">
                <dc:Bounds x="1200.0" y="30.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_02ala0u" isExpanded="false" id="Gateway_02ala0u_di">
                <dc:Bounds x="-705.0" y="45.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0iaxfer" isExpanded="false" id="Activity_0cliwsl_di">
                <dc:Bounds x="-360.0" y="30.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1l62402" isExpanded="false" id="Activity_0nfv6zy_di">
                <dc:Bounds x="-210.0" y="30.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_1j5xv36" isExpanded="false" id="Event_01pym2j_di">
                <dc:Bounds x="352.0" y="52.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_0q09ibx" isExpanded="false" id="Gateway_0w4wbo2_di">
                <dc:Bounds x="245.0" y="45.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1jgphp7" isExpanded="false" id="Gateway_082p81m_di">
                <dc:Bounds x="-805.0" y="45.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_10mldsw" isExpanded="false" id="Event_1i16aw5_di">
                <dc:Bounds x="252.0" y="123.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_1kttqby" isExpanded="false" id="Event_1kttqby_di">
                <dc:Bounds x="1382.0" y="52.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_12387fg" isExpanded="false" id="Gateway_0a2jijw_di">
                <dc:Bounds x="745.0" y="45.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1e83gaw" isExpanded="false" id="Activity_1qdbjmm_di">
                <dc:Bounds x="900.0" y="30.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1rsprej" isExpanded="false" id="Gateway_1rsprej_di">
                <dc:Bounds x="1075.0" y="45.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0djp7g0" isExpanded="false" id="Activity_0djp7g0_di">
                <dc:Bounds x="410.0" y="181.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_11znm66" isExpanded="false" id="Gateway_11znm66_di">
                <dc:Bounds x="245.0" y="196.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0isnudw" isExpanded="false" id="Activity_1y3vqt3_di">
                <dc:Bounds x="-70.0" y="30.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_19laj60" isExpanded="false" id="Gateway_19laj60_di">
                <dc:Bounds x="-1065.0" y="45.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_0yi4vh3" isExpanded="false" id="Gateway_0yi4vh3_di">
                <dc:Bounds x="-815.0" y="-305.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1ytywvd" isExpanded="false" id="Activity_00dp523_di">
                <dc:Bounds x="-630.0" y="-320.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1s8ek22" isExpanded="false" id="Gateway_1s8ek22_di">
                <dc:Bounds x="-395.0" y="-465.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0c0qud3" isExpanded="false" id="Event_0c0qud3_di">
                <dc:Bounds x="-88.0" y="-458.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_06knvn0" isExpanded="false" id="Gateway_06knvn0_di">
                <dc:Bounds x="-815.0" y="-465.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0n72bya" isExpanded="false" id="Activity_1a9y021_di">
                <dc:Bounds x="-630.0" y="-480.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_06guyot" isExpanded="false" id="Activity_1m8ft87_di">
                <dc:Bounds x="-280.0" y="-480.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_039oxsm" isExpanded="false" id="Activity_11q0lrb_di">
                <dc:Bounds x="-960.0" y="30.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0t9z362" isExpanded="false" id="Activity_0oyg229_di">
                <dc:Bounds x="320.0" y="-150.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0cmd5aw" isExpanded="false" id="Activity_02qo9ly_di">
                <dc:Bounds x="-600.0" y="30.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1mzi1bg" isExpanded="false" id="Gateway_1mzi1bg_di">
                <dc:Bounds x="-455.0" y="45.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1kjkd6k" isExpanded="false" id="Gateway_1kjkd6k_di">
                <dc:Bounds x="445.0" y="45.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1xh8gxe" isExpanded="false" id="Gateway_1xh8gxe_di">
                <dc:Bounds x="105.0" y="45.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0duj755" isExpanded="false" id="Event_0te1pxc_di">
                <dc:Bounds x="592.0" y="12.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_11ooquc" id="Flow_11ooquc_di">
                <di:waypoint x="-260.0" y="70.0"/>
                <di:waypoint x="-210.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1l421qx" id="Flow_1l421qx_di">
                <di:waypoint x="270.0" y="95.0"/>
                <di:waypoint x="270.0" y="123.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1fwj6yn" id="Flow_1fwj6yn_di">
                <di:waypoint x="295.0" y="70.0"/>
                <di:waypoint x="352.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_15hvzhs" id="Flow_15hvzhs_di">
                <di:waypoint x="-755.0" y="70.0"/>
                <di:waypoint x="-705.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1pe3me5" id="Flow_1pe3me5_di">
                <di:waypoint x="1300.0" y="70.0"/>
                <di:waypoint x="1382.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0yzsred" id="Flow_0yzsred_di">
                <di:waypoint x="-680.0" y="45.0"/>
                <di:waypoint x="-680.0" y="-190.0"/>
                <di:waypoint x="1100.0" y="-190.0"/>
                <di:waypoint x="1100.0" y="45.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1uxedrg" id="Flow_1uxedrg_di">
                <di:waypoint x="660.0" y="70.0"/>
                <di:waypoint x="745.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1g8o17i" id="Flow_1g8o17i_di">
                <di:waypoint x="795.0" y="70.0"/>
                <di:waypoint x="900.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_03mgrab" id="Flow_03mgrab_di">
                <di:waypoint x="770.0" y="95.0"/>
                <di:waypoint x="770.0" y="221.0"/>
                <di:waypoint x="510.0" y="221.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0n3f4um" id="Flow_0n3f4um_di">
                <di:waypoint x="1000.0" y="70.0"/>
                <di:waypoint x="1075.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_02cxmjb" id="Flow_02cxmjb_di">
                <di:waypoint x="1125.0" y="70.0"/>
                <di:waypoint x="1200.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0td221k" id="Flow_0td221k_di">
                <di:waypoint x="410.0" y="221.0"/>
                <di:waypoint x="295.0" y="221.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0p8al3v" id="Flow_0p8al3v_di">
                <di:waypoint x="270.0" y="159.0"/>
                <di:waypoint x="270.0" y="196.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_051yjyx" id="Flow_051yjyx_di">
                <di:waypoint x="245.0" y="221.0"/>
                <di:waypoint x="-780.0" y="221.0"/>
                <di:waypoint x="-780.0" y="95.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0434oyf" id="Flow_0434oyf_di">
                <di:waypoint x="-110.0" y="70.0"/>
                <di:waypoint x="-70.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0u7koyn" id="Flow_0u7koyn_di">
                <di:waypoint x="-1132.0" y="70.0"/>
                <di:waypoint x="-1065.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0hnueqa" id="Flow_0hnueqa_di">
                <di:waypoint x="-1040.0" y="45.0"/>
                <di:waypoint x="-1040.0" y="-280.0"/>
                <di:waypoint x="-815.0" y="-280.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_13809pp" id="Flow_13809pp_di">
                <di:waypoint x="-765.0" y="-280.0"/>
                <di:waypoint x="-630.0" y="-280.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0zegp6n" id="Flow_0zegp6n_di">
                <di:waypoint x="-530.0" y="-280.0"/>
                <di:waypoint x="-370.0" y="-280.0"/>
                <di:waypoint x="-370.0" y="-415.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_19i5n8v" id="Flow_19i5n8v_di">
                <di:waypoint x="-790.0" y="-305.0"/>
                <di:waypoint x="-790.0" y="-415.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1t68h30" id="Flow_1t68h30_di">
                <di:waypoint x="-765.0" y="-440.0"/>
                <di:waypoint x="-630.0" y="-440.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1ijuo62" id="Flow_1ijuo62_di">
                <di:waypoint x="-530.0" y="-440.0"/>
                <di:waypoint x="-395.0" y="-440.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1s5u6lu" id="Flow_1s5u6lu_di">
                <di:waypoint x="-790.0" y="-465.0"/>
                <di:waypoint x="-790.0" y="-550.0"/>
                <di:waypoint x="-370.0" y="-550.0"/>
                <di:waypoint x="-370.0" y="-465.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1evhti1" id="Flow_1evhti1_di">
                <di:waypoint x="-345.0" y="-440.0"/>
                <di:waypoint x="-280.0" y="-440.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_15weqli" id="Flow_15weqli_di">
                <di:waypoint x="-180.0" y="-440.0"/>
                <di:waypoint x="-88.0" y="-440.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0riouzm" id="Flow_0riouzm_di">
                <di:waypoint x="-1015.0" y="70.0"/>
                <di:waypoint x="-960.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0ebxxlh" id="Flow_0ebxxlh_di">
                <di:waypoint x="-860.0" y="70.0"/>
                <di:waypoint x="-805.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1yrmmd7" id="Flow_1yrmmd7_di">
                <di:waypoint x="610.0" y="12.0"/>
                <di:waypoint x="610.0" y="-110.0"/>
                <di:waypoint x="420.0" y="-110.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0war1ez" id="Flow_0war1ez_di">
                <di:waypoint x="-655.0" y="70.0"/>
                <di:waypoint x="-600.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0an9q1j" id="Flow_0an9q1j_di">
                <di:waypoint x="-500.0" y="70.0"/>
                <di:waypoint x="-455.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0me7ckl" id="Flow_0me7ckl_di">
                <di:waypoint x="-405.0" y="70.0"/>
                <di:waypoint x="-360.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1z0d2o2" id="Flow_1z0d2o2_di">
                <di:waypoint x="320.0" y="-110.0"/>
                <di:waypoint x="-430.0" y="-110.0"/>
                <di:waypoint x="-430.0" y="45.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0badu6r" id="Flow_0badu6r_di">
                <di:waypoint x="388.0" y="70.0"/>
                <di:waypoint x="445.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0s7qj7q" id="Flow_0s7qj7q_di">
                <di:waypoint x="495.0" y="70.0"/>
                <di:waypoint x="560.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_145r6y4" id="Flow_145r6y4_di">
                <di:waypoint x="30.0" y="70.0"/>
                <di:waypoint x="105.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0zw96dl" id="Flow_0zw96dl_di">
                <di:waypoint x="155.0" y="70.0"/>
                <di:waypoint x="245.0" y="70.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1rmxqzn" id="Flow_1rmxqzn_di">
                <di:waypoint x="130.0" y="45.0"/>
                <di:waypoint x="130.0" y="0.0"/>
                <di:waypoint x="470.0" y="0.0"/>
                <di:waypoint x="470.0" y="45.0"/>
            </bpmndi:BPMNEdge>
        </bpmndi:BPMNPlane>
    </bpmndi:BPMNDiagram>
</bpmn:definitions>
